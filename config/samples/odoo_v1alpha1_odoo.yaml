apiVersion: cloud.alterway.fr/v1alpha1
kind: Odoo
metadata:
  name: odoo-sample-full
spec:
  size: 1
  version: "19" # Or "18.0", etc.
  ingress:
    enabled: true
    host: odoo-full.example.com
    tls: true
    annotations:
      cert-manager.io/cluster-issuer: "letsencrypt-prod"

  service:
    type: ClusterIP
  
  logs:
    volumeEnabled: true

  storage:
    data:
      size: "8Gi"
    # Unified addons storage (contains both custom and enterprise addons)
    addons:
      size: "5Gi"
      # storageClassName: "fast-ssd"  # Optional: specify storage class
      # accessMode: ReadWriteMany      # Optional: defaults to ReadWriteMany

  resources:
    odoo:
      requests:
        cpu: "500m"
        memory: "512Mi"
      limits:
        cpu: "1000m"
        memory: "1Gi"
    postgres:
      requests:
        cpu: "250m"
        memory: "256Mi"
      limits:
        cpu: "500m"
        memory: "512Mi"
    init:
      requests:
        cpu: "100m"
        memory: "128Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"
  
  options:
    workers: "4"
    log_level: "info"
